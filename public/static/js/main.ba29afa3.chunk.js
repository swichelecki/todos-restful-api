(this["webpackJsonpreact-hooks"]=this["webpackJsonpreact-hooks"]||[]).push([[0],{12:function(t,e,n){},14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),c=n(5),i=n.n(c),r=(n(12),n(3)),u=n.n(r),s=n(2),l=n(6),p=n(1);n(14);function d(t){var e=t.todo,n=t.index,o=t.completeTodo,c=t.removeTodo,i=t.editTodo;return a.a.createElement("div",{className:"todo",style:{textDecoration:e.isComplete?"line-through":""}},e.text,a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return o(n,e._id,e.text,e.isComplete)}},"Complete"),a.a.createElement("button",{onClick:function(){return i(n,e._id,e.text,e.isComplete)}},"Edit"),a.a.createElement("button",{onClick:function(){return c(n,e._id)}},"x")))}function f(t){var e=t.addTodo,n=Object(o.useState)(""),c=Object(p.a)(n,2),i=c[0],r=c[1];return a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),i&&(e(i),r(""))}},a.a.createElement("input",{type:"text",className:"input",value:i,onChange:function(t){return r(t.target.value)}}))}function m(t){var e=t.editThis,n=t.postEdit,c=Object(o.useState)(e),i=Object(p.a)(c,2),r=i[0],u=i[1];return a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),r&&(n(r),u({text:""}))}},a.a.createElement("input",{type:"text",className:"input",value:r.text,onChange:function(t){return u({text:t.target.value,id:e.id,index:e.index,isComplete:e.isComplete})}}))}var h=function(){var t=Object(o.useState)([]),e=Object(p.a)(t,2),n=e[0],c=e[1];function i(){return r.apply(this,arguments)}function r(){return(r=Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/todos");case 2:(e=t.sent).json().then((function(t){return c(t)})).catch((function(t){return e.json({message:t})}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(o.useEffect)((function(){i()}),[]);var h=function(t,e,o,a){a=!1===a;var i=Object(s.a)(n);i[t].isComplete=a,c(i),fetch("/todos/".concat(e),{method:"PATCH",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify({isComplete:a,text:o})}).then((function(t){return t.json()})).then((function(t){return console.log(t)}))},j=Object(o.useState)(!1),x=Object(p.a)(j,2),b=x[0],v=x[1],C=Object(o.useState)(),E=Object(p.a)(C,2),O=E[0],y=E[1],T=function(t,e,n,o){v(!0),y({index:t,id:e,text:n,isComplete:o})},g=function(t,e){var o=Object(s.a)(n);o.splice(t,1),c(o),fetch("/todos/".concat(e),{method:"DELETE",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)}))};return a.a.createElement("div",{className:"app"},a.a.createElement("div",{className:"todo-list"},n.map((function(t,e){return a.a.createElement(d,{key:e,index:e,todo:t,completeTodo:h,removeTodo:g,editTodo:T})})),!0===b?a.a.createElement(m,{editThis:O,postEdit:function(t){var e=t.text,o=t.id,a=t.index,r=t.isComplete,u=Object(s.a)(n);u[a].text=e,u[a].isComplete=r,c(u),fetch("/todos/".concat(o),{method:"PATCH",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify({text:e,isComplete:r})}).then((function(t){return t.json()})).then((function(t){i(),v(!1)}))}}):a.a.createElement(f,{addTodo:function(t){var e=[].concat(Object(s.a)(n),[{text:t}]);c(e),fetch("/todos",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify({text:t})}).then((function(t){return t.json()})).then((function(t){i()}))}})))};i.a.render(a.a.createElement(h,null),document.getElementById("root"))},7:function(t,e,n){t.exports=n(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.ba29afa3.chunk.js.map